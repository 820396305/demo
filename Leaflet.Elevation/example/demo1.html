<!DOCTYPE html>
<html>
<head>
	<title>Leaflet.Elevation</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	 <style>
	   html, body, #map {
	      height:100%;
	      width:100%;
	      padding:0px;
	      margin:0px;
	   }
	</style>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.ie.css" /><![endif]-->


	<script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
	<script type="text/javascript" src="./lib/leaflet-gpx/gpx.js"></script>
</head>
<body>

	<div id="map"></div>

	<script type="text/javascript">
		var map = new L.Map('map');

		// var url = 'http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpeg',
		var url = 'http://7xjwvr.com1.z0.glb.clouddn.com/google/{z}/{x}/{y}.jpeg';
		L.tileLayer(url, {maxZoom: 19}).addTo(map);
		var g=new L.GPX("./demo.gpx", {
			async: true,
			 marker_options: {
			    startIconUrl: './lib/leaflet-gpx/pin-icon-start.png',
			    endIconUrl: './lib/leaflet-gpx/pin-icon-end.png',
			    shadowUrl: './lib/leaflet-gpx/pin-shadow.png'
			  }
		});
		g.on('loaded', function(e) {
			alert('loaded')
		  		map.fitBounds(e.target.getBounds());
		});
		g.on("addline",function(e){
			//el.addData(e.line);
		});
		g.addTo(map);


	</script>
</body>
</html>
